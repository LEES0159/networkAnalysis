---
title: "Practical Applications of Network Science: Workshop "
subtitle: "⚔<br/>with xaringan"
author: "Dr Maria Prokofieva"
institute: "VU Business School"
date: "2021"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      ratio: "16:9"

      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(echo = TRUE,   
                      message = FALSE,
                      warning = FALSE,
                      fig.height = 4,
                      fig.width = 8,
                      fig.align = "center")
```
#Practical Applications of Network Science: Workshop:


theory and practical applications of network science to solve today's challenges
---
#Packages to use

[igraph](https://igraph.org/r/)

[statnet](https://cran.r-project.org/web/packages/statnet/)

[sna](https://cran.r-project.org/web/packages/sna/)

```{r}
#load libraries
library (igraph)
library (statnet)
library (sna)
```
---

#Big task:

(apart from conquering the universe)

complete a small project in R using social network analysis, using provided dataset

#Smaller tasks:

- see each topic!
---
#`igraph` package

['igraph'](https://igraph.org/) is a collection for creating and manipulating graphs and analyzing networks. 

- written in C and also exists as Python and R packages.

- [`igraph` package](https://igraph.org/r/)
---
#`statnet` package

['statnet'](http://statnet.org/) is a collection of R packages for 

- management, 

- exploration, 

- statistical analysis, 

- simulation and 

- vizualization of network data. 

- based on [Exponential-family Random Graph Models (ERGMs)](https://en.wikipedia.org/wiki/Exponential_random_graph_models).  
---

Questions to ask about a network:

- How large the network is?

- How densely connected is it? 

- Is the network made up of one or more distinct groups?

- How compact is the network?

- How clustered are the network members?


---

#Dataset

`networkdata` package: a large collection of dataset for network science from wide variety of areas

```{r}
#install.packages("remotes")
#remotes::install_github("schochastics/networkdata")
library(networkdata)
```

```{r eval=FALSE}

#to see the list of datasets
data(package = "networkdata"))
```

```{r eval=FALSE}
library(UserNetR)
data(Moreno)

data(flo) #dataset from network package (statnet) 
flo_network<-network(flo, directed=FALSE)

```
---
#Basic concepts

- **nodes** (*N*):

**edges** (E: observed ties in a network (also called edges, arcs, or relations)

- can be directed or undirected

An **undirected tie** is a tie with no direction (e.g. collaborarion)

A **directed tie** is a tie with the direction (e.g. borrowing) = *arcs*!

---
#Network characteristics

```{r}
summary(flo_network)
```


---
#Size

= the number of members (e.g nodes, vertices or actors)

Some books may refer to the number of nodes, while the number of edges is less common.


```{r eval=FALSE}
network.size()```{r eval= FALSE}

```{r}
network.size(Moreno)
network.size(flo_network)
```
---
# Density 

proportion of observed ties in a network to the maximum number of possible ties.

a ratio that can range from 0 to 1.

more interconnected networks have density closer to 1.

---
#Density of directed network:

(directed network is a network with a direction)

##IMAGE DIRECTED NETWORK

Number of observed ties `L` to the maximum number of possible ties among `k` actors `k ∗ (k−1)`, so the formula for density is:

`density= L/(k*k-1))

Loops are excluded! (= a tie between a node and itself)
----
#Density of undirected network

##IMAGE UNDIRECTED NETWORK
,
where L is the number of observed ties in the network.

---
#Components


---
#Diameter 


Finish basic characteristics


---
#Clustering Coefficient

--


---
Foundations of SNA and introductory SNA in R

adjacency matrix, 
---

one and two-mode networks, 

---

node degree, 
---
connected components, 

---
average shortest path, 
---
diameter, 
---
preferential attachment, 

---
network centrality. 

---
Part 2 - practical
#Working with SNA in R

##How to store information about the network?

- rectangular data structures?
= rows are observations, columns are variables?

---

IMAGE WITH NETWORK EXAMPLE AND QUESTION TO STORE IT


PROBLEM: how to fit in relational structure?
---
#Network data structure

observation/variable -> tie (=relationship between members of a network)

---
#Sociomatrices

- a matrix containing network information

- a square matrix where a 1 indicates a tie between two nodes, and a 0 indicates no tie

- also called **adjacency matrix**:  1s in the cells = nodes are adjacent to one another in the network


IMAGE
----
#Sociomatrices

Non-directed network: the sociomatrix is symmetric around the diagonal. 

Directed network: EXAMPLE

Simple networks(no self-ties):diagonals are all zeros
---
#Sociomatrices

EXAMPLE

Disadvantages: sparse sociomatrices with large networks
---
#Edge list

=lists every tie in the network. 

= Each row = a single tie from the node listed in the first column to the node listed in the second column.

- much more efficient for large networks

IMAGE
---

#Network Data objects

Types of information:

**Nodes**: list of nodes in network + node labels (Required)

in `statnet` =vertices

**Ties**: list of ties in the network (Required)

**Node attributes**: attributes of the nodes (Optional)


**Tie attributes**: attributes of the ties (Optional)

**Metadata**: other information about the entire network
`statnet` = global information about the network (e.g. directed or not directed, are loops allowed, etc.)
---
# Network in R

- `statnet`: collection of packages to work with networks [`statnet`](http://statnet.org/)

[CRAN](https://cran.r-project.org/package=statnet)

- `igraph`:  collection of network analysis tools with the emphasis on efficiency, portability and ease of use - [`igraph`](https://igraph.org/)

[CRAN]()
---

---
#Creating network objects in `igraph`

```{r}


```
---

10 minutes + 10 minutes exercise
statnet -creating network object and managing node and tie attributes

10 minutes + 10 minutes exercise
igraph - same

2.2. importing network data and common network data tasks

10 minutes + 10 minutes exercise
filtering network (based on vertex or edge attribute values)

break - 10 minutes

---
##


---
#Classification of graphs

deterministic and stochastic

---
# Creating graphs


---
# Creating graphs - `igraph`

Many functions for creating graphs:

stochastic graph constructors are called ‘games’.
---

#Functions for creating graphs

`graph_from_literal`: create small graphs with a given structure
- R's formula interface, its manual page contains many examples.

- `graph`:  takes numeric vertex ids directly

- `graph.atlas`: create graph from the Graph Atlas

- `make_graph`: create some special graphs.

---
#Functions for creating graphs from field data
To create graphs from field data, graph_from_edgelist, graph_from_data_frame and graph_from_adjacency_matrix are probably the best choices.

The igraph package includes some classic random graphs like the Erdos-Renyi GNP and GNM graphs (sample_gnp, sample_gnm) and some recent popular models, like preferential attachment (sample_pa) and the small-world model (sample_smallworld).





---
Resources:

[`statnet` workshop](https://github.com/statnet/Workshops/wiki)


Demos are available```{r}
demo(package="igraph")``````{r}
```



[Awesome list of resources](https://github.com/briatte/awesome-network-analysis)
